## Part 1. Установка ОС
- скачиваем и устанавливаем Ubuntu 20.04 Server LTS без графического интерфейса.
- версия Ubuntu\
![](1/1_1.png)

## Part 2. Создание пользователя
- вывод команды `cat /etc/passwd`\
- создание пользователя командой `sudo adduser user name` и добавление пользователя в adm командой `sudo usermod -a - G adm haywardm`\
![](2/1.png)

## Part 3. Настройка сети ОС
- ввел команду `sudo vim /etc/hostname` для редактирования файла  
![](3/1.png)
- отредактировал файл `/etc/hosts` командой sudo vim `/etc/hosts`
, перезагрузил систему для применения изменений\
![](3/2.png)
- Перед сменой часового пояса нужно узнать длинное имя часового пояса, которое нужно использовать командой `timedatectl list-timezones`
- Установка временной зоны(Мск) командой `sudo timedatectl set-timezone your_time_zone`\
![](3/3.png)
- команда для вывода названия сетевых интерфейсов `ifconfig`\
![](3/4.png) 
- lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost.
- ip-адрес устройства\
- DHCP (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) —
  прикладной протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры,
  необходимые для работы в сети TCP/IP. Данный протокол работает по модели «клиент-сервер».
  Для автоматической конфигурации компьютер-клиент на этапе конфигурации сетевого устройства обращается
  к так называемому серверу DHCP и получает от него нужные параметры.

- Что бы отобразить внешний ip-адрес шлюза использутся команда `curl ifconfig.me/ip`\
![](3/5.png)
- Что бы отобразить внутрений ip-адрес шлюза можно использовать команду `ip route | grep default` \
![ip-адрес по умолчанию (gw)](3/6.png)
- Что бы задать (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8) открываем файл по команде `sudo nano /etc/netplan/*.yaml` и изменяем настройки:\
![](3/2.png)
- Убедился, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.\
![](3/10.png)
- Пропингуем удаленные хосты:\
![](3/7.png)
![](3/8.png)

## Part 4. Обновление ОС
- Обновить системные пакеты до последней можно применив команды:
`sudo apt-get update`
`sudo apt-get upgrade`
- сообщение, что обновления отсутствуют\
 ![](4/1.png)

## Part 5. Использование команды sudo
- Команда sudo ( substitute user and do, подменить пользователя и выполнить ) позволяет строго определенным пользователям выполнять указанные программы с административными привилегиями без ввода пароля суперпользователя root.
- разрешил пользователю выполнять команду sudo\ командой `sudo usermod -aG sudo <user name>`
\
- команда для смены hostname через sudo: `sudo hostnamectl set-hostname haywardm`
\
- измененный hostname \
![](5/1.png)

## Part 6. Установка и настройка службы времени
- Проверяем время командой `timedatectl show`:\
- вывод команды NTPSynchronized=yes: 
timedatectl show \
 ![](6/1.png)

## Part 7. Установка и использование текстовых редакторов
-  Для установки текстового редактора используется команда `sudo apt install <name of the text editor>` 
 ![](7/1.png)
- VIM\
![файл test_VIM.txt](7/2.png)\
выход с сохранением -`Esc`, `:wq`, после чего нажимаем `Enter`.
- NANO\
![файл test_NANO.txt](7/6.png)\
выход с сохранением - `cntrl+x`, `Y`, после чего нажимаем `Enter;
- mcedit\
![файл test_mcedit.txt](7/10.png)\
 выход с сохранением - `cntrl+x+k`;
- VIM \
![файл test_VIM.txt](7/3.png)\
выход без сохранения- `esc`, `:q!`;
- NANO \
![файл test_NANO.txt](7/7.png)\
выход без сохранения - `cntrl+x`, `N`;
- mcedit \
![файл test_mcedit.txt](7/11.png)\
 выход без сохранения - `cntrl+q+k`, `n`;
- VIM \
![ test_VIM.txt](7/4.png)\
 поиск слова - команда:/слово
- NANO\
![поиск слова test_NANO.txt](7/8.png)\
 поиск слова:`Ctrl + w`
- JOE \
![поиск слова test_mcedit.txt](7/12.png)\
 поиск слова:`Ctrl + k + f`
- VIM \
![ test_VIM.txt](7/5.png)\
 замена слова: `:s/.../.../`
- NANO\
![замена слова test_NANO.txt](7/9.png)\
 для замены элемента используют сочетание клавишь `Ctrl + W` и `Ctrl + R`, после чего вводится то, что заменяется, после нажатие на `Enter` водится вводится новая строка, подвержаетя `Enter` и соглашается клавишей `Y`
- mcedit\
![замена слова test_mcedit.txt](7/12.png)\
замена слова:`Ctrl + k + f`, `R`

## Part 8. Установка и базовая настройка сервиса SSHD
- Установила SSH с помощью команды: `sudo apt-get install ssh`
- Установил OpenSSH: `sudo apt install openssh-server`
- Добавила пакет SSH-сервера в автозагрузку: `sudo systemctl enable sshd`
- Меняем порт в конфигурационном файле SSH сервера:`sudo nano /etc/ssh/sshd_config`
- Port 22->Port 2022\
![](8/1.png)
- Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи\
![команда ps](8/2.png) Команда ps выводит список текущих процессов на сервере. Опция C фильтрует процессы по указанной строке.
- Вывод команды netstat -tan \
- Значение ключей -tan:\
    -t - Отображение текущего подключения в состоянии переноса нагрузки с процессора на сетевой адаптер при передаче данных ( "offload" ).\
    -a - Отображение всех подключений и ожидающих портов.\
    -n - Отображение адресов и номеров портов в числовом формате.
  - Значение каждого столбца вывода:
    - Proto - название протокола
    - Recv-Q - cчётчик байт не скопированных программой пользователя из - этого сокета
    - Send-Q - счётчик байтов, не подтверждённых удалённым узлом
    - Local Address - адрес и номер порта локального конца сокета
    - Foreign Address - адрес и номер порта удалённого конца сокета
    - Status - состояние соединение\
    Виды соединений:
    - ESTABLISHED - соединение установлено
    - SYN_SENT - сокет пытается установить соединение
    - SYN_RECV - начальная синхронизация соединения
    - FIN_WAIT1 - сокет закрыт, ожидание отключения соединения
    - FIN_WAIT2 - ожидание отключения удаленной стороны
    - TIME_WAIT - ожидание после закрытия повторной передачи отключения удаленной стороны
    - CLOSED - соединение закрыто, сокет не используется
    - CLOSE_WAIT - удаленный узел отключился, сокет скоро будет закрыт
    - LAST_ACK - сначала отключилась удаленная сторона, а затем сокет будет закрыт
    - LISTEN - сокет ожидает входящих соединений
    - CLOSING - закрытие сокета, точнее сокет закрыт, а затем отключился удаленный узел
    - UNKNOWN - состояние сокета неизвестно.
  - Значение 0.0.0.0 означает - "любой адрес"

## Part 9. Установка и использование утилит top, htop
- top
- команда `sudo apt install top` для установки утилиты top
- запуск top командой `top`\
![](9/1.png)
- uptime : 17 min
- количество авторизованных пользователей: 1
- общее количество процессов: 98
- загрузка cpu: 0
- загрузка памяти: 2710.4
- pid процесса занимающего больше всего памяти: 1
- pid процесса, занимающего больше всего процессорного времени: 1
- htop
- команда `sudo apt-get install htop` для установки утилиты htop
- Отсортированный по PID\
    ![](9/2.png)
- Отсортированный по PERCENT_CPU\
    ![](9/3.png)
- Отсортированный по PERCENT_MEM\
    ![](9/4.png)
- Отсортированный по TIME\
    ![](9/5.png)
- Отфильтрованному для процесса sshd\
    ![](9/6.png)
- С процессом syslog, найденным, используя поиск\
- С добавленным выводом hostname, clock и uptime\
    ![](9/7.png)

## Part 10. Использование утилиты fdisk
- результат команды `sudo fdisk -l` \
![](10/1.png)
- название жесткого диска:/dev/sda
- размер - 8.25 GiB
- количество секторов - 8854175744
- ![swap](10/2.png)\
 размер swap - 1.5G

## Part 11. Использование утилиты df
- вывод команды `df` \
![](11/1.png)
- вывод команды df для корневого раздела ![](11/2.png)размер корневого раздела:8.1G; размер занятого пространства:3.9G; размер свободного пространства:3.8G; процент использования: 52%. 
- The 1K block in GNU coreutils df(1) means 1024 bytes
- вывод команды `df -Th`\
![](12/3.png)размер раздела:9.8G; размер занятого пространства:3.9G; размер свободного пространства:3.8G; процент использования: 52%. Тип файловой системы: ext4.

## Part 12. Использование утилиты du
- размер /home \
![размер /home](12/1.png)
- размер  /var\
![размер  /var](12/2.png)
- размер /var/log \
![размер /var/log](12/3.png)
- вывод команды `sudo du -sh /var/log/*`\
![вывод команды sudo du -sh /var/log/*](12/4.png)

## Part 13. Установка и использование утилиты ncdu
- установил утилиту ncdu командой `sudo apt-get install ncdu`
![](13/0.png)
- размер /home \
![](13/1.png)
- размер /var \
![](13/2.png)
- размер /var/log \
![](13/3.png)

## Part 14. Работа с системными журналами
- вывод команды `sudo utmpdump /var/log/dmesg`\
![](14/1.png)
- вывод команды `sudo utmpdump /var/log/syslog` \
![](14/2.png)
- вывод команды `sudo utmpdump /var/log/auth.log`\
![](14/3.png)
- последняя успешная авторизация командой last\
![](14/4.png)
- Перезагрузил службу SSHd командой `sudo systemctl restart ssh`
- сообщение и рестарте службы\


## Part 15. Использование планировщика заданий CRON
- открыл файл для редактирования командой `sudo crontab -e`
- добавил команду\
![](15/1.png)
- в системных журналах строчки о выполнении\
![](15/2.png)
- список текущих заданий для CRON\
![](15/3.png)
- Удаление всех заданий и з планировщика заданий выполняется командой crontab -r
Список текущих заданий после удаления:\
![](15/4.png)
![](15/5.png)
